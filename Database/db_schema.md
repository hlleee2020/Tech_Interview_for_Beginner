# 💡 1. 개요
왜 필요한 건지 모르겠으면, 이 개념이 없었다면 어떤게 불편했을 지를 생각해보자.

공공 데이터 포털 - 경기도 화성시_경기도 화성시 동탄신도시 도로별 통행량 및 통행로 정보
<img src=".\img\db_schema_6.png">

#### DB와 스프레드시트(ex. MS Excel) 의 차이점

| |spread sheet|DB|
|:---:|:---:|:---:|
|데이터 조작|간단한 조작|복잡한 조작 가능|
|데이터 access|많은 사용자가 동시 접근/조작. 접근 옵션도 다양|단일, 혹은 소수 사용자|
|데이터 저장량|엄청난 양 가능|작음|

<img src=".\img\db_schema_5.png">



|Excel|DB|
|:---:|:---:|
|하나의 excel file|하나의 DB|
|excel column 이름|DB column 이름|
|하나의 row(행)|저장된 하나의 record|
|rows|DB 내 저장된 다양한 데이터|
|excel sheet| DB Table |

#### DB 전체를 정의할 Meta 정보 필요 = DB schema
- DB 이름은 모냐?
- 테이블은 몇개냐? 그 테이블의 이름은 뭐지?
- 컬럼은 몇 개고 각각의 컬럼명은 뭔지?
- 각 데이터는 어떤 자료형을 쓰는지? ...etc

이걸 다 통틀어서 스키마! 이걸 사용자 관점에 따라 분류를 좀 해보자!




# 💡 2. 개념

## 🔑 **2.1 스키마란?**
**DB의 구조와 제약 조건에 관한 전반적인 명세를 기술한 메타데이터의 집합**

**DB내에 어떤 구조로 데이터가 저장되는가를 나타내는 데이터베이스 구조**

**DBMS가 주어진 설정에 따라 DB schema를 생성, DB 사용자가 자료를 저장/조회/삭제/변경 할 때 DBMS는 자신이 생성한 데이터베이스 스키마를 참조해 명령을 수행**

- 데이터베이스를 구성하는 데이터 개체(Entity), 속성(Attribute), 관계(relationship) 및 데이터 조작 시 데이터 값들이 갖는 제약 조건 등에 관해 전반적으로 정의 
- 현실 세계의 특정한 한 부분의 표현으로서 특정 데이터 모델을 이용해서 만들어진다.
- 스키마는 시간에 따라 불변인 특성을 갖는다.
- 스키마는 데이터의 구조적 특성을 의미하며, 인스턴스테 의해 규정된다. 

## 🔑 **2.2 스키마 3계층**
- 분리 기준 : 사용자 관점
- DB 관리 시스템은 외부적 스키마에 따라 명시된 사용자의 요구를 개념적 스키마에 적합한 형태로 변경하고, 이를 다시 내부적 스키마에 적합한 형태로 변환한다. 

<img src=".\img\db_schema_2.png">

### 📌 **2.2.1 외부 스키마(External Schema) = 사용자 뷰 (view)**
**사용자가 각 개인의 입장에서 필요로 하는 데이터베이스의 논리적인 구조를 정의**
- 강아지 코, 입, 귀, 발,...
- 하나의 데이터베이스 시스템에는 여러 개의 외부 스키마가 존재할 수 O
- 하나의 외부 스키마를 여러 개의 응용 프로그램이나 사용자가 공용할 수 O
- 쪼개진 스키마 (서브 스키마) 라고도 함
- 같은 데이터베이스에 대해서도 서로 다른 관점을 정의할 수 있도록 허용
- 일반 사용자는 질의어(SQL)을 이용해 DB를 쉽게 사용할 수 있다.
- 응용 프로그래머는 C, Java 등의 언어를 사용해 DB에 접근



### 📌 **2.2.2 개념 스키마(Conceptual) Schema) = 전체적인 뷰 (view)**
**데이터베이스의 전체적인 논리 구조. 모든 응용 프로그램이나 사용자들이 필요로 하는 데이터를 종합한 조직 전체의 데이터베이스.**
- 강아지 전체에 대한 스키마
- 딱 하나만 존재!
- 개체 관의 관계와 제약 조건을 나타내고, 데이터베이스의 접근 권한, 보안 및 무결성 규칙에 관한 명세를 정의
- 데이터베이스 파일에 저장되는 데이터의 형태를 나타내는 것. 단순히 스키마(schema)라고 하면 개념 스키마를 의미
- 외부 사용자들 요구를 충족시키기 위한 전체적인 DB 구조
- 기관이나 조직체의 관점에서 데이터 베이스를 정의한 것
- 데이터베이스 관리자(DBA)에 의해서 구성된다.
- DDL 사용해서 표현




### 📌 **2.2.3 내부 스키마(Internal Schema) = 저장 스키마(Storage Schema)**
**물리적 저장장치의 입장에서 본 데이터베이스 구조. 물리적인 저장 장치와 밀접한 계층**
- 실제로 데이터베이스에 저장될 레코드의 물리적 구조를 정의하고, 저장 데이터 항목의 표현 방법. 내부 레코드의 물리적 순서 등을 나타낸다.
- 프로그래머나 설계자에게 필요한 스키마
- 시스템 프로그래머나 시스템 설계자가 보는 관점의 스키마.
- 메모리(hard disk, RAM, ...)에 저장 됨 ex. data type, save path, security...


# 💡 3. 예시
#### 데이터를 바라보는 창!

<img src=".\img\db_schema_1.png">

- 은행 어플 고객 입장에서 중요한 정보 : 은행 어플에서 로그인 시 나는 내 계좌 잔액만 조회 가능
- 은행 서비스 관리자 입장에서 중요한 정보: 전체 고객의 신용 정보 등을 조회 가능
- DB 설계자 입장에서 중요한 정보: 고객 주민등록번호는 13자리 정수여야하고...~

__________________________________________

- 외부 스키마에서는 ㅇㅇ 눈에서는 ㅇㅇ만 보인다.
- 개념 스키마에서는 우리 DB가 개념적, 논리적으로 DB 전체가 어떻게 구성이 되는지
- 내부 스키마에서는 실제로 구현해야 한다! 이거 가지고  실제로 코딩해서 DB에 commit하면 디스크에 작성됨
- 각각에게 다른 종류의 명세서가 필요할 것이다. 그래서 스키마가 3종류로 나뉘는 것.

______________________________________________

## 🔑 3.1 학교 DB

<img src=".\img\db_schema_3.png">




## 🔑 3.2 인사 관리 DB
<img src=".\img\db_schema_4.png">





___________________________
# 4. 출처


https://coding-factory.tistory.com/216

https://star7sss.tistory.com/815

https://www.youtube.com/watch?v=forbtwMZ9Xo

https://ykcb.tistory.com/entry/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%8A%A4%ED%82%A4%EB%A7%88%EC%9D%98-%EA%B0%9C%EB%85%90-%ED%8A%B9%EC%A7%95

https://www.data.go.kr/data/15094165/fileData.do
